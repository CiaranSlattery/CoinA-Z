{"ast":null,"code":"/**\r\n * DevExtreme (esm/events/core/emitter.feedback.js)\r\n * Version: 21.2.5\r\n * Build date: Mon Jan 17 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport Class from \"../../core/class\";\nimport { noop, ensureDefined } from \"../../core/utils/common\";\nimport { contains } from \"../../core/utils/dom\";\nimport devices from \"../../core/devices\";\nimport { isMouseEvent } from \"../utils/index\";\nimport pointerEvents from \"../pointer\";\nimport Emitter from \"./emitter\";\nimport registerEmitter from \"./emitter_registrator\";\nvar ACTIVE_EVENT_NAME = \"dxactive\";\nvar INACTIVE_EVENT_NAME = \"dxinactive\";\nvar ACTIVE_TIMEOUT = 30;\nvar INACTIVE_TIMEOUT = 400;\nvar FeedbackEvent = Class.inherit({\n  ctor: function (timeout, fire) {\n    this._timeout = timeout;\n    this._fire = fire;\n  },\n  start: function () {\n    var that = this;\n\n    this._schedule(function () {\n      that.force();\n    });\n  },\n  _schedule: function (fn) {\n    this.stop();\n    this._timer = setTimeout(fn, this._timeout);\n  },\n  stop: function () {\n    clearTimeout(this._timer);\n  },\n  force: function () {\n    if (this._fired) {\n      return;\n    }\n\n    this.stop();\n\n    this._fire();\n\n    this._fired = true;\n  },\n  fired: function () {\n    return this._fired;\n  }\n});\nvar activeFeedback;\nvar FeedbackEmitter = Emitter.inherit({\n  ctor: function () {\n    this.callBase.apply(this, arguments);\n    this._active = new FeedbackEvent(0, noop);\n    this._inactive = new FeedbackEvent(0, noop);\n  },\n  configure: function (data, eventName) {\n    switch (eventName) {\n      case ACTIVE_EVENT_NAME:\n        data.activeTimeout = data.timeout;\n        break;\n\n      case INACTIVE_EVENT_NAME:\n        data.inactiveTimeout = data.timeout;\n    }\n\n    this.callBase(data);\n  },\n  start: function (e) {\n    if (activeFeedback) {\n      var activeChildExists = contains(this.getElement().get(0), activeFeedback.getElement().get(0));\n      var childJustActivated = !activeFeedback._active.fired();\n\n      if (activeChildExists && childJustActivated) {\n        this._cancel();\n\n        return;\n      }\n\n      activeFeedback._inactive.force();\n    }\n\n    activeFeedback = this;\n\n    this._initEvents(e);\n\n    this._active.start();\n  },\n  _initEvents: function (e) {\n    var that = this;\n\n    var eventTarget = this._getEmitterTarget(e);\n\n    var mouseEvent = isMouseEvent(e);\n    var isSimulator = devices.isSimulator();\n    var deferFeedback = isSimulator || !mouseEvent;\n    var activeTimeout = ensureDefined(this.activeTimeout, ACTIVE_TIMEOUT);\n    var inactiveTimeout = ensureDefined(this.inactiveTimeout, INACTIVE_TIMEOUT);\n    this._active = new FeedbackEvent(deferFeedback ? activeTimeout : 0, function () {\n      that._fireEvent(ACTIVE_EVENT_NAME, e, {\n        target: eventTarget\n      });\n    });\n    this._inactive = new FeedbackEvent(deferFeedback ? inactiveTimeout : 0, function () {\n      that._fireEvent(INACTIVE_EVENT_NAME, e, {\n        target: eventTarget\n      });\n\n      activeFeedback = null;\n    });\n  },\n  cancel: function (e) {\n    this.end(e);\n  },\n  end: function (e) {\n    var skipTimers = e.type !== pointerEvents.up;\n\n    if (skipTimers) {\n      this._active.stop();\n    } else {\n      this._active.force();\n    }\n\n    this._inactive.start();\n\n    if (skipTimers) {\n      this._inactive.force();\n    }\n  },\n  dispose: function () {\n    this._active.stop();\n\n    this._inactive.stop();\n\n    if (activeFeedback === this) {\n      activeFeedback = null;\n    }\n\n    this.callBase();\n  },\n  lockInactive: function () {\n    this._active.force();\n\n    this._inactive.stop();\n\n    activeFeedback = null;\n\n    this._cancel();\n\n    return this._inactive.force.bind(this._inactive);\n  }\n});\n\nFeedbackEmitter.lock = function (deferred) {\n  var lockInactive = activeFeedback ? activeFeedback.lockInactive() : noop;\n  deferred.done(lockInactive);\n};\n\nregisterEmitter({\n  emitter: FeedbackEmitter,\n  events: [ACTIVE_EVENT_NAME, INACTIVE_EVENT_NAME]\n});\nexport var lock = FeedbackEmitter.lock;\nexport { ACTIVE_EVENT_NAME as active, INACTIVE_EVENT_NAME as inactive };","map":{"version":3,"sources":["C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/devextreme/esm/events/core/emitter.feedback.js"],"names":["Class","noop","ensureDefined","contains","devices","isMouseEvent","pointerEvents","Emitter","registerEmitter","ACTIVE_EVENT_NAME","INACTIVE_EVENT_NAME","ACTIVE_TIMEOUT","INACTIVE_TIMEOUT","FeedbackEvent","inherit","ctor","timeout","fire","_timeout","_fire","start","that","_schedule","force","fn","stop","_timer","setTimeout","clearTimeout","_fired","fired","activeFeedback","FeedbackEmitter","callBase","apply","arguments","_active","_inactive","configure","data","eventName","activeTimeout","inactiveTimeout","e","activeChildExists","getElement","get","childJustActivated","_cancel","_initEvents","eventTarget","_getEmitterTarget","mouseEvent","isSimulator","deferFeedback","_fireEvent","target","cancel","end","skipTimers","type","up","dispose","lockInactive","bind","lock","deferred","done","emitter","events","active","inactive"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/events/core/emitter.feedback.js)\r\n * Version: 21.2.5\r\n * Build date: Mon Jan 17 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    noop,\r\n    ensureDefined\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    contains\r\n} from \"../../core/utils/dom\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    isMouseEvent\r\n} from \"../utils/index\";\r\nimport pointerEvents from \"../pointer\";\r\nimport Emitter from \"./emitter\";\r\nimport registerEmitter from \"./emitter_registrator\";\r\nvar ACTIVE_EVENT_NAME = \"dxactive\";\r\nvar INACTIVE_EVENT_NAME = \"dxinactive\";\r\nvar ACTIVE_TIMEOUT = 30;\r\nvar INACTIVE_TIMEOUT = 400;\r\nvar FeedbackEvent = Class.inherit({\r\n    ctor: function(timeout, fire) {\r\n        this._timeout = timeout;\r\n        this._fire = fire\r\n    },\r\n    start: function() {\r\n        var that = this;\r\n        this._schedule((function() {\r\n            that.force()\r\n        }))\r\n    },\r\n    _schedule: function(fn) {\r\n        this.stop();\r\n        this._timer = setTimeout(fn, this._timeout)\r\n    },\r\n    stop: function() {\r\n        clearTimeout(this._timer)\r\n    },\r\n    force: function() {\r\n        if (this._fired) {\r\n            return\r\n        }\r\n        this.stop();\r\n        this._fire();\r\n        this._fired = true\r\n    },\r\n    fired: function() {\r\n        return this._fired\r\n    }\r\n});\r\nvar activeFeedback;\r\nvar FeedbackEmitter = Emitter.inherit({\r\n    ctor: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._active = new FeedbackEvent(0, noop);\r\n        this._inactive = new FeedbackEvent(0, noop)\r\n    },\r\n    configure: function(data, eventName) {\r\n        switch (eventName) {\r\n            case ACTIVE_EVENT_NAME:\r\n                data.activeTimeout = data.timeout;\r\n                break;\r\n            case INACTIVE_EVENT_NAME:\r\n                data.inactiveTimeout = data.timeout\r\n        }\r\n        this.callBase(data)\r\n    },\r\n    start: function(e) {\r\n        if (activeFeedback) {\r\n            var activeChildExists = contains(this.getElement().get(0), activeFeedback.getElement().get(0));\r\n            var childJustActivated = !activeFeedback._active.fired();\r\n            if (activeChildExists && childJustActivated) {\r\n                this._cancel();\r\n                return\r\n            }\r\n            activeFeedback._inactive.force()\r\n        }\r\n        activeFeedback = this;\r\n        this._initEvents(e);\r\n        this._active.start()\r\n    },\r\n    _initEvents: function(e) {\r\n        var that = this;\r\n        var eventTarget = this._getEmitterTarget(e);\r\n        var mouseEvent = isMouseEvent(e);\r\n        var isSimulator = devices.isSimulator();\r\n        var deferFeedback = isSimulator || !mouseEvent;\r\n        var activeTimeout = ensureDefined(this.activeTimeout, ACTIVE_TIMEOUT);\r\n        var inactiveTimeout = ensureDefined(this.inactiveTimeout, INACTIVE_TIMEOUT);\r\n        this._active = new FeedbackEvent(deferFeedback ? activeTimeout : 0, (function() {\r\n            that._fireEvent(ACTIVE_EVENT_NAME, e, {\r\n                target: eventTarget\r\n            })\r\n        }));\r\n        this._inactive = new FeedbackEvent(deferFeedback ? inactiveTimeout : 0, (function() {\r\n            that._fireEvent(INACTIVE_EVENT_NAME, e, {\r\n                target: eventTarget\r\n            });\r\n            activeFeedback = null\r\n        }))\r\n    },\r\n    cancel: function(e) {\r\n        this.end(e)\r\n    },\r\n    end: function(e) {\r\n        var skipTimers = e.type !== pointerEvents.up;\r\n        if (skipTimers) {\r\n            this._active.stop()\r\n        } else {\r\n            this._active.force()\r\n        }\r\n        this._inactive.start();\r\n        if (skipTimers) {\r\n            this._inactive.force()\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._active.stop();\r\n        this._inactive.stop();\r\n        if (activeFeedback === this) {\r\n            activeFeedback = null\r\n        }\r\n        this.callBase()\r\n    },\r\n    lockInactive: function() {\r\n        this._active.force();\r\n        this._inactive.stop();\r\n        activeFeedback = null;\r\n        this._cancel();\r\n        return this._inactive.force.bind(this._inactive)\r\n    }\r\n});\r\nFeedbackEmitter.lock = function(deferred) {\r\n    var lockInactive = activeFeedback ? activeFeedback.lockInactive() : noop;\r\n    deferred.done(lockInactive)\r\n};\r\nregisterEmitter({\r\n    emitter: FeedbackEmitter,\r\n    events: [ACTIVE_EVENT_NAME, INACTIVE_EVENT_NAME]\r\n});\r\nexport var lock = FeedbackEmitter.lock;\r\nexport {\r\n    ACTIVE_EVENT_NAME as active, INACTIVE_EVENT_NAME as inactive\r\n};\r\n"]},"metadata":{},"sourceType":"module"}