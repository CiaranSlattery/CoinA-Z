{"ast":null,"code":"import _objectSpread from\"C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import Chartjs from'chart.js';import{historyOptions}from\"../../chartConfigs/chartConfigs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var HistoryChart=function HistoryChart(_ref){var data=_ref.data;var chartRef=useRef();var day=data.day,week=data.week,twoWeek=data.twoWeek,month=data.month,threeMonth=data.threeMonth,year=data.year,detail=data.detail;var _useState=useState(\"24h\"),_useState2=_slicedToArray(_useState,2),timeFormat=_useState2[0],setTimeFormat=_useState2[1];var determineTimeFormat=function determineTimeFormat(){switch(timeFormat){case\"24h\":return day;case\"7d\":return week;case\"14d\":return twoWeek;case\"30d\":return month;case\"90d\":return threeMonth;case\"1y\":return year;default:return day;}};useEffect(function(){if(chartRef&&chartRef.current&&detail){var chartInstance=new Chartjs(chartRef.current,{type:\"line\",data:{datasets:[{label:\"\".concat(detail.name,\" price\"),data:determineTimeFormat(),backgroundColor:\"rgba(174, 305, 194, 0.5)\",borderColor:\"rgba(255, 215, 0, 0.4\",pointRadius:0}]},options:_objectSpread({},historyOptions)});}});var renderPrice=function renderPrice(){if(detail){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-0\",children:detail.current_price.toFixed(2)}),/*#__PURE__*/_jsxs(\"p\",{className:detail.price_change_24h<0?\"text-danger my-0\":\"text-success my-0\",children:[detail.price_change_percentage_24h.toFixed(2),\"%\"]})]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border mt-2 rounded p-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:renderPrice()}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"canvas\",{ref:chartRef,id:\"myChart\",width:250,height:250})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-button mt-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setTimeFormat(\"24h\");},className:\"btn btn-outline-secondary btn-sm\",children:\"24h\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setTimeFormat(\"7d\");},className:\"btn btn-outline-secondary btn-sm mx-1\",children:\"7d\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setTimeFormat(\"14d\");},className:\"btn btn-outline-secondary btn-sm mx-1\",children:\"14d\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setTimeFormat(\"30d\");},className:\"btn btn-outline-secondary btn-sm mx-1\",children:\"30d\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setTimeFormat(\"90d\");},className:\"btn btn-outline-secondary btn-sm mx-1\",children:\"90d\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setTimeFormat(\"1y\");},className:\"btn btn-outline-secondary btn-sm\",children:\"1y\"})]})]});};export default HistoryChart;","map":{"version":3,"sources":["C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/src/components/pages/HistoryChart.jsx"],"names":["React","useEffect","useRef","useState","Chartjs","historyOptions","HistoryChart","data","chartRef","day","week","twoWeek","month","threeMonth","year","detail","timeFormat","setTimeFormat","determineTimeFormat","current","chartInstance","type","datasets","label","name","backgroundColor","borderColor","pointRadius","options","renderPrice","current_price","toFixed","price_change_24h","price_change_percentage_24h"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\r\nimport Chartjs from 'chart.js';\r\nimport {historyOptions} from \"../../chartConfigs/chartConfigs\";\r\n\r\n\r\nconst HistoryChart = ({data}) => {\r\n    const chartRef = useRef();\r\n    const {day, week, twoWeek, month, threeMonth, year, detail} = data;\r\n    const [timeFormat, setTimeFormat] = useState(\"24h\");\r\n\r\n    const determineTimeFormat = () => {\r\n        switch(timeFormat){\r\n            case \"24h\":\r\n                return day;\r\n            case \"7d\":\r\n                return week;\r\n            case \"14d\":\r\n                return twoWeek;\r\n            case \"30d\":\r\n                return month;\r\n            case \"90d\":\r\n                return threeMonth;\r\n            case \"1y\":\r\n                return year;\r\n            default:\r\n                return day;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(chartRef && chartRef.current && detail){\r\n            const chartInstance = new Chartjs(chartRef.current, {\r\n                type: \"line\",\r\n                data: {\r\n                    datasets: [\r\n                        {\r\n                        label: `${detail.name} price`,\r\n                        data: determineTimeFormat(),\r\n                        backgroundColor: \"rgba(174, 305, 194, 0.5)\",\r\n                        borderColor: \"rgba(255, 215, 0, 0.4\",\r\n                        pointRadius: 0,\r\n\r\n                        },\r\n                    ],\r\n                },\r\n                options: {\r\n                    ...historyOptions,\r\n                },\r\n            });\r\n        }\r\n    });\r\n\r\n    const renderPrice = () => {\r\n        if(detail){\r\n            return(\r\n                <>\r\n                <p className=\"my-0\">{detail.current_price.toFixed(2)}</p>\r\n                <p\r\n                    className={\r\n                    detail.price_change_24h < 0\r\n                        ? \"text-danger my-0\"\r\n                        : \"text-success my-0\"\r\n                }\r\n                >{detail.price_change_percentage_24h.toFixed(2)}%\r\n                </p>\r\n            </>\r\n            )\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"bg-white border mt-2 rounded p-3\">\r\n        <div>{renderPrice()}</div>\r\n            <div>\r\n            <canvas ref={chartRef} id=\"myChart\" width={250} height={250}></canvas>\r\n        </div>\r\n            <div className = \"chart-button mt-1\">\r\n                <button\r\n                    onClick={() => setTimeFormat(\"24h\")}\r\n                    className=\"btn btn-outline-secondary btn-sm\"\r\n                >\r\n                    24h\r\n                </button>\r\n                <button\r\n                    onClick={() => setTimeFormat(\"7d\")}\r\n                    className=\"btn btn-outline-secondary btn-sm mx-1\"\r\n                >\r\n                    7d\r\n                </button>\r\n                <button\r\n                    onClick={() => setTimeFormat(\"14d\")}\r\n                    className=\"btn btn-outline-secondary btn-sm mx-1\"\r\n                >\r\n                    14d\r\n                </button>\r\n                <button\r\n                    onClick={() => setTimeFormat(\"30d\")}\r\n                    className=\"btn btn-outline-secondary btn-sm mx-1\"\r\n                >\r\n                    30d\r\n                </button>\r\n                <button\r\n                    onClick={() => setTimeFormat(\"90d\")}\r\n                    className=\"btn btn-outline-secondary btn-sm mx-1\"\r\n                >\r\n                    90d\r\n                </button>\r\n                <button\r\n                    onClick={() => setTimeFormat(\"1y\")}\r\n                    className=\"btn btn-outline-secondary btn-sm\"\r\n                >\r\n                    1y\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HistoryChart;"]},"metadata":{},"sourceType":"module"}