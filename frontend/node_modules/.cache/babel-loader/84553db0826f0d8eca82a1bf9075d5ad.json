{"ast":null,"code":"import _classCallCheck from\"C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import TodoDataService from\"./TodoDataService\";import AuthenticationService from\"../AuthenticationService\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListToDosComponents=/*#__PURE__*/function(_React$Component){_inherits(ListToDosComponents,_React$Component);var _super=_createSuper(ListToDosComponents);function ListToDosComponents(props){var _this;_classCallCheck(this,ListToDosComponents);console.log('constructor');_this=_super.call(this,props);_this.state={todos:[],message:null};_this.deleteTodoClicked=_this.deleteTodoClicked.bind(_assertThisInitialized(_this));_this.updateTodoClicked=_this.updateTodoClicked.bind(_assertThisInitialized(_this));_this.addTodoClicked=_this.addTodoClicked.bind(_assertThisInitialized(_this));_this.refreshTodos=_this.refreshTodos.bind(_assertThisInitialized(_this));return _this;}_createClass(ListToDosComponents,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){console.log(\"componentWillUnmount\");}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){console.log(\"shouldComponentUpdate\");console.log(nextProps);console.log(nextState);return true;}},{key:\"componentDidMount\",value:function componentDidMount(){console.log('componentDidMount');this.refreshTodos();console.log(this.state);}},{key:\"refreshTodos\",value:function refreshTodos(){var _this2=this;var username=AuthenticationService.getLoggedInUserName();TodoDataService.retrieveAllTodos(username).then(function(response){//console.log(response)\n_this2.setState({todos:response.data});});console.log(this.state);}},{key:\"deleteTodoClicked\",value:function deleteTodoClicked(id){var _this3=this;var username=AuthenticationService.getLoggedInUserName();//console.log(id + \" \" + username);\nTodoDataService.deleteTodo(username,id).then(function(response){_this3.setState({message:\"Delete of todo \".concat(id,\" Successful\")});_this3.refreshTodos();});}},{key:\"addTodoClicked\",value:function addTodoClicked(){this.props.history.push(\"/todos/-1\");}},{key:\"updateTodoClicked\",value:function updateTodoClicked(id){console.log('update '+id);this.props.history.push(\"/todos/\".concat(id));// let username = AuthenticationService.getLoggedInUserName();\n// //console.log(id + \" \" + username);\n// TodoDataService.deleteTodo(username, id)\n//     .then(\n//         response => {\n//             this.setState({message : `Delete of todo ${id} Successful`})\n//             this.refreshTodos()\n//         }\n//     )\n}},{key:\"render\",value:function render(){var _this4=this;console.log('render');return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Coin A-Z Todos\"})}),this.state.message&&/*#__PURE__*/_jsx(\"div\",{class:\"alert-success\",children:this.state.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Description \"}),/*#__PURE__*/_jsx(\"th\",{children:\"Target Date \"}),/*#__PURE__*/_jsx(\"th\",{children:\"Is Completed? \"}),/*#__PURE__*/_jsx(\"th\",{children:\"Update \"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.todos.map(function(todo){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:todo.description}),/*#__PURE__*/_jsx(\"td\",{children:moment(todo.targetDate).format('YYYY-MM-DD')}),/*#__PURE__*/_jsx(\"td\",{children:todo.done.toString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return _this4.updateTodoClicked(todo.id);},children:\"Update\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:function onClick(){return _this4.deleteTodoClicked(todo.id);},children:\"Delete\"})})]},todo.id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.addTodoClicked,children:\"Add\"})})]})]});}}]);return ListToDosComponents;}(React.Component);export default ListToDosComponents;","map":{"version":3,"sources":["C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/src/components/todo/ListToDos.js"],"names":["React","TodoDataService","AuthenticationService","moment","ListToDosComponents","props","console","log","state","todos","message","deleteTodoClicked","bind","updateTodoClicked","addTodoClicked","refreshTodos","nextProps","nextState","username","getLoggedInUserName","retrieveAllTodos","then","response","setState","data","id","deleteTodo","history","push","map","todo","description","targetDate","format","done","toString","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport TodoDataService from \"./TodoDataService\";\r\nimport AuthenticationService from \"../AuthenticationService\";\r\nimport moment from \"moment\";\r\n\r\nclass ListToDosComponents extends React.Component {\r\n    constructor(props){\r\n        console.log('constructor')\r\n        super(props)\r\n        this.state = {\r\n            todos : [],\r\n            message : null\r\n\r\n        }\r\n        this.deleteTodoClicked = this.deleteTodoClicked.bind(this)\r\n        this.updateTodoClicked = this.updateTodoClicked.bind(this)\r\n        this.addTodoClicked = this.addTodoClicked.bind(this)\r\n        this.refreshTodos = this.refreshTodos.bind(this)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log(\"componentWillUnmount\")\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        console.log(\"shouldComponentUpdate\")\r\n        console.log(nextProps)\r\n        console.log(nextState)\r\n        return true;\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('componentDidMount')\r\n        this.refreshTodos()\r\n        console.log(this.state)\r\n    }\r\n\r\n    refreshTodos(){\r\n        let username = AuthenticationService.getLoggedInUserName();\r\n        TodoDataService.retrieveAllTodos(username)\r\n            .then(\r\n                response => {\r\n                    //console.log(response)\r\n                    this.setState({todos : response.data})\r\n                }\r\n            )\r\n        console.log(this.state)\r\n    }\r\n\r\n    deleteTodoClicked(id){\r\n        let username = AuthenticationService.getLoggedInUserName();\r\n        //console.log(id + \" \" + username);\r\n        TodoDataService.deleteTodo(username, id)\r\n            .then(\r\n                response => {\r\n                    this.setState({message : `Delete of todo ${id} Successful`})\r\n                    this.refreshTodos()\r\n                }\r\n            )\r\n    }\r\n\r\n    addTodoClicked() {\r\n        this.props.history.push(`/todos/-1`)\r\n    }\r\n\r\n    updateTodoClicked(id){\r\n        console.log('update ' + id)\r\n        this.props.history.push(`/todos/${id}`)\r\n        // let username = AuthenticationService.getLoggedInUserName();\r\n        // //console.log(id + \" \" + username);\r\n        // TodoDataService.deleteTodo(username, id)\r\n        //     .then(\r\n        //         response => {\r\n        //             this.setState({message : `Delete of todo ${id} Successful`})\r\n        //             this.refreshTodos()\r\n        //         }\r\n        //     )\r\n    }\r\n\r\n    render() {\r\n        console.log('render')\r\n        return <div>\r\n            <center>\r\n                <h1>Coin A-Z Todos</h1>\r\n            </center>\r\n            {this.state.message && <div class=\"alert-success\">{this.state.message}</div>}\r\n            <div className=\"container\">\r\n\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Description </th>\r\n                        <th>Target Date </th>\r\n                        <th>Is Completed? </th>\r\n                        <th>Update </th>\r\n                        <th>Delete </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                {\r\n                    this.state.todos.map (\r\n                        todo =>\r\n                            <tr key={todo.id}>\r\n                                <td>{todo.description}</td>\r\n                                <td>{moment(todo.targetDate).format('YYYY-MM-DD')}</td>\r\n                                <td>{todo.done.toString()}</td>\r\n                                <td><button className=\"btn btn-success\" onClick={() => this.updateTodoClicked(todo.id)}>Update</button></td>\r\n                                <td><button className=\"btn btn-warning\" onClick={() => this.deleteTodoClicked(todo.id)}>Delete</button></td>\r\n                            </tr>\r\n                    )\r\n                }\r\n                </tbody>\r\n            </table>\r\n                <div className=\"row\">\r\n                    <button className=\"btn btn-success\" onClick={this.addTodoClicked}>Add</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default ListToDosComponents;"]},"metadata":{},"sourceType":"module"}