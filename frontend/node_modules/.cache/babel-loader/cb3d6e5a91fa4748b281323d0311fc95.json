{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/text_box/ui.text_editor.mask.strategy.input_events.js)\r\n * Version: 21.2.5\r\n * Build date: Mon Jan 17 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport BaseMaskStrategy from \"./ui.text_editor.mask.strategy.base\";\nvar DELETE_INPUT_TYPE = \"deleteContentBackward\";\n\nclass InputEventsMaskStrategy extends BaseMaskStrategy {\n  _getStrategyName() {\n    return \"inputEvents\";\n  }\n\n  getHandleEventNames() {\n    return [...super.getHandleEventNames(), \"beforeInput\"];\n  }\n\n  _beforeInputHandler() {\n    this._prevCaret = this.editorCaret();\n  }\n\n  _inputHandler(_ref) {\n    var {\n      originalEvent: originalEvent\n    } = _ref;\n\n    if (!originalEvent) {\n      return;\n    }\n\n    var {\n      inputType: inputType,\n      data: data\n    } = originalEvent;\n    var currentCaret = this.editorCaret();\n\n    if (inputType === DELETE_INPUT_TYPE) {\n      var length = this._prevCaret.end - this._prevCaret.start || 1;\n      this.editor.setBackwardDirection();\n\n      this._updateEditorMask({\n        start: currentCaret.start,\n        length: length,\n        text: this._getEmptyString(length)\n      });\n    } else {\n      var _this$_prevCaret, _this$_prevCaret2, _this$_prevCaret3;\n\n      if (!currentCaret.end) {\n        return;\n      }\n\n      this._autoFillHandler(originalEvent);\n\n      this.editorCaret(currentCaret);\n\n      var _length = (null === (_this$_prevCaret = this._prevCaret) || void 0 === _this$_prevCaret ? void 0 : _this$_prevCaret.end) - (null === (_this$_prevCaret2 = this._prevCaret) || void 0 === _this$_prevCaret2 ? void 0 : _this$_prevCaret2.start);\n\n      var newData = data + (_length ? this._getEmptyString(_length - data.length) : \"\");\n      this.editor.setForwardDirection();\n\n      var hasValidChars = this._updateEditorMask({\n        start: null === (_this$_prevCaret3 = this._prevCaret) || void 0 === _this$_prevCaret3 ? void 0 : _this$_prevCaret3.start,\n        length: _length || newData.length,\n        text: newData\n      });\n\n      if (!hasValidChars) {\n        this.editorCaret(this._prevCaret);\n      }\n    }\n  }\n\n  _getEmptyString(length) {\n    return Array(length + 1).join(\" \");\n  }\n\n  _updateEditorMask(args) {\n    var textLength = args.text.length;\n\n    var updatedCharsCount = this.editor._handleChain(args);\n\n    if (this.editor.isForwardDirection()) {\n      var {\n        start: start,\n        end: end\n      } = this.editorCaret();\n      var correction = updatedCharsCount - textLength;\n\n      if (start <= updatedCharsCount && updatedCharsCount > 1) {\n        this.editorCaret({\n          start: start + correction,\n          end: end + correction\n        });\n      }\n\n      this.editor.isForwardDirection() && this.editor._adjustCaret();\n    }\n\n    this.editor._displayMask();\n\n    return !!updatedCharsCount;\n  }\n\n}\n\nexport default InputEventsMaskStrategy;","map":{"version":3,"sources":["C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/devextreme/esm/ui/text_box/ui.text_editor.mask.strategy.input_events.js"],"names":["BaseMaskStrategy","DELETE_INPUT_TYPE","InputEventsMaskStrategy","_getStrategyName","getHandleEventNames","_beforeInputHandler","_prevCaret","editorCaret","_inputHandler","_ref","originalEvent","inputType","data","currentCaret","length","end","start","editor","setBackwardDirection","_updateEditorMask","text","_getEmptyString","_this$_prevCaret","_this$_prevCaret2","_this$_prevCaret3","_autoFillHandler","_length","newData","setForwardDirection","hasValidChars","Array","join","args","textLength","updatedCharsCount","_handleChain","isForwardDirection","correction","_adjustCaret","_displayMask"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/text_box/ui.text_editor.mask.strategy.input_events.js)\r\n * Version: 21.2.5\r\n * Build date: Mon Jan 17 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport BaseMaskStrategy from \"./ui.text_editor.mask.strategy.base\";\r\nvar DELETE_INPUT_TYPE = \"deleteContentBackward\";\r\nclass InputEventsMaskStrategy extends BaseMaskStrategy {\r\n    _getStrategyName() {\r\n        return \"inputEvents\"\r\n    }\r\n    getHandleEventNames() {\r\n        return [...super.getHandleEventNames(), \"beforeInput\"]\r\n    }\r\n    _beforeInputHandler() {\r\n        this._prevCaret = this.editorCaret()\r\n    }\r\n    _inputHandler(_ref) {\r\n        var {\r\n            originalEvent: originalEvent\r\n        } = _ref;\r\n        if (!originalEvent) {\r\n            return\r\n        }\r\n        var {\r\n            inputType: inputType,\r\n            data: data\r\n        } = originalEvent;\r\n        var currentCaret = this.editorCaret();\r\n        if (inputType === DELETE_INPUT_TYPE) {\r\n            var length = this._prevCaret.end - this._prevCaret.start || 1;\r\n            this.editor.setBackwardDirection();\r\n            this._updateEditorMask({\r\n                start: currentCaret.start,\r\n                length: length,\r\n                text: this._getEmptyString(length)\r\n            })\r\n        } else {\r\n            var _this$_prevCaret, _this$_prevCaret2, _this$_prevCaret3;\r\n            if (!currentCaret.end) {\r\n                return\r\n            }\r\n            this._autoFillHandler(originalEvent);\r\n            this.editorCaret(currentCaret);\r\n            var _length = (null === (_this$_prevCaret = this._prevCaret) || void 0 === _this$_prevCaret ? void 0 : _this$_prevCaret.end) - (null === (_this$_prevCaret2 = this._prevCaret) || void 0 === _this$_prevCaret2 ? void 0 : _this$_prevCaret2.start);\r\n            var newData = data + (_length ? this._getEmptyString(_length - data.length) : \"\");\r\n            this.editor.setForwardDirection();\r\n            var hasValidChars = this._updateEditorMask({\r\n                start: null === (_this$_prevCaret3 = this._prevCaret) || void 0 === _this$_prevCaret3 ? void 0 : _this$_prevCaret3.start,\r\n                length: _length || newData.length,\r\n                text: newData\r\n            });\r\n            if (!hasValidChars) {\r\n                this.editorCaret(this._prevCaret)\r\n            }\r\n        }\r\n    }\r\n    _getEmptyString(length) {\r\n        return Array(length + 1).join(\" \")\r\n    }\r\n    _updateEditorMask(args) {\r\n        var textLength = args.text.length;\r\n        var updatedCharsCount = this.editor._handleChain(args);\r\n        if (this.editor.isForwardDirection()) {\r\n            var {\r\n                start: start,\r\n                end: end\r\n            } = this.editorCaret();\r\n            var correction = updatedCharsCount - textLength;\r\n            if (start <= updatedCharsCount && updatedCharsCount > 1) {\r\n                this.editorCaret({\r\n                    start: start + correction,\r\n                    end: end + correction\r\n                })\r\n            }\r\n            this.editor.isForwardDirection() && this.editor._adjustCaret()\r\n        }\r\n        this.editor._displayMask();\r\n        return !!updatedCharsCount\r\n    }\r\n}\r\nexport default InputEventsMaskStrategy;\r\n"]},"metadata":{},"sourceType":"module"}