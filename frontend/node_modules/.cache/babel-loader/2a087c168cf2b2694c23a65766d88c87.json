{"ast":null,"code":"import { _CI, _HI, _M, _MCCC, _ME, _MFCC, _MP, _MR, EMPTY_OBJ, render, _RFC as renderFunctionalComponent } from 'inferno';\nimport { isFunction, isInvalid, isNull, isNullOrUndef, throwError } from './shared';\n\nfunction isSameInnerHTML(dom, innerHTML) {\n  const tempdom = document.createElement('i');\n  tempdom.innerHTML = innerHTML;\n  return tempdom.innerHTML === dom.innerHTML;\n}\n\nfunction findLastDOMFromVNode(vNode) {\n  let flags;\n  let children;\n\n  while (vNode) {\n    flags = vNode.flags;\n\n    if (flags & 2033\n    /* DOMRef */\n    ) {\n      return vNode.dom;\n    }\n\n    children = vNode.children;\n\n    if (flags & 8192\n    /* Fragment */\n    ) {\n      vNode = vNode.childFlags === 2\n      /* HasVNodeChildren */\n      ? children : children[children.length - 1];\n    } else if (flags & 4\n    /* ComponentClass */\n    ) {\n      vNode = children.$LI;\n    } else {\n      vNode = children;\n    }\n  }\n\n  return null;\n}\n\nfunction isSamePropsInnerHTML(dom, props) {\n  return Boolean(props && props.dangerouslySetInnerHTML && props.dangerouslySetInnerHTML.__html && isSameInnerHTML(dom, props.dangerouslySetInnerHTML.__html));\n}\n\nfunction hydrateComponent(vNode, parentDOM, dom, context, isSVG, isClass, lifecycle) {\n  const type = vNode.type;\n  const ref = vNode.ref;\n  const props = vNode.props || EMPTY_OBJ;\n  let currentNode;\n\n  if (isClass) {\n    const instance = _CI(vNode, type, props, context, isSVG, lifecycle);\n\n    const input = instance.$LI;\n    currentNode = hydrateVNode(input, parentDOM, dom, instance.$CX, isSVG, lifecycle);\n\n    _MCCC(ref, instance, lifecycle);\n  } else {\n    const input = _HI(renderFunctionalComponent(vNode, context));\n\n    currentNode = hydrateVNode(input, parentDOM, dom, context, isSVG, lifecycle);\n    vNode.children = input;\n\n    _MFCC(vNode, lifecycle);\n  }\n\n  return currentNode;\n}\n\nfunction hydrateChildren(parentVNode, parentNode, currentNode, context, isSVG, lifecycle) {\n  const childFlags = parentVNode.childFlags;\n  const children = parentVNode.children;\n  const props = parentVNode.props;\n  const flags = parentVNode.flags;\n\n  if (childFlags !== 1\n  /* HasInvalidChildren */\n  ) {\n    if (childFlags === 2\n    /* HasVNodeChildren */\n    ) {\n      if (isNull(currentNode)) {\n        _M(children, parentNode, context, isSVG, null, lifecycle);\n      } else {\n        currentNode = hydrateVNode(children, parentNode, currentNode, context, isSVG, lifecycle);\n        currentNode = currentNode ? currentNode.nextSibling : null;\n      }\n    } else if (childFlags === 16\n    /* HasTextChildren */\n    ) {\n      if (isNull(currentNode)) {\n        parentNode.appendChild(document.createTextNode(children));\n      } else if (parentNode.childNodes.length !== 1 || currentNode.nodeType !== 3) {\n        parentNode.textContent = children;\n      } else if (currentNode.nodeValue !== children) {\n        currentNode.nodeValue = children;\n      }\n\n      currentNode = null;\n    } else if (childFlags & 12\n    /* MultipleChildren */\n    ) {\n      let prevVNodeIsTextNode = false;\n\n      for (let i = 0, len = children.length; i < len; ++i) {\n        const child = children[i];\n\n        if (isNull(currentNode) || prevVNodeIsTextNode && (child.flags & 16\n        /* Text */\n        ) > 0) {\n          _M(child, parentNode, context, isSVG, currentNode, lifecycle);\n        } else {\n          currentNode = hydrateVNode(child, parentNode, currentNode, context, isSVG, lifecycle);\n          currentNode = currentNode ? currentNode.nextSibling : null;\n        }\n\n        prevVNodeIsTextNode = (child.flags & 16\n        /* Text */\n        ) > 0;\n      }\n    } // clear any other DOM nodes, there should be only a single entry for the root\n\n\n    if ((flags & 8192\n    /* Fragment */\n    ) === 0) {\n      let nextSibling = null;\n\n      while (currentNode) {\n        nextSibling = currentNode.nextSibling;\n        parentNode.removeChild(currentNode);\n        currentNode = nextSibling;\n      }\n    }\n  } else if (!isNull(parentNode.firstChild) && !isSamePropsInnerHTML(parentNode, props)) {\n    parentNode.textContent = ''; // dom has content, but VNode has no children remove everything from DOM\n\n    if (flags & 448\n    /* FormElement */\n    ) {\n      // If element is form element, we need to clear defaultValue also\n      parentNode.defaultValue = '';\n    }\n  }\n}\n\nfunction hydrateElement(vNode, parentDOM, dom, context, isSVG, lifecycle) {\n  const props = vNode.props;\n  const className = vNode.className;\n  const flags = vNode.flags;\n  const ref = vNode.ref;\n  isSVG = isSVG || (flags & 32\n  /* SvgElement */\n  ) > 0;\n\n  if (dom.nodeType !== 1) {\n    _ME(vNode, null, context, isSVG, null, lifecycle);\n\n    parentDOM.replaceChild(vNode.dom, dom);\n  } else {\n    vNode.dom = dom;\n    hydrateChildren(vNode, dom, dom.firstChild, context, isSVG, lifecycle);\n\n    if (!isNull(props)) {\n      _MP(vNode, flags, props, dom, isSVG);\n    }\n\n    if (isNullOrUndef(className)) {\n      if (dom.className !== '') {\n        dom.removeAttribute('class');\n      }\n    } else if (isSVG) {\n      dom.setAttribute('class', className);\n    } else {\n      dom.className = className;\n    }\n\n    _MR(ref, dom, lifecycle);\n  }\n\n  return vNode.dom;\n}\n\nfunction hydrateText(vNode, parentDOM, dom) {\n  if (dom.nodeType !== 3) {\n    parentDOM.replaceChild(vNode.dom = document.createTextNode(vNode.children), dom);\n  } else {\n    const text = vNode.children;\n\n    if (dom.nodeValue !== text) {\n      dom.nodeValue = text;\n    }\n\n    vNode.dom = dom;\n  }\n\n  return vNode.dom;\n}\n\nfunction hydrateFragment(vNode, parentDOM, dom, context, isSVG, lifecycle) {\n  const children = vNode.children;\n\n  if (vNode.childFlags === 2\n  /* HasVNodeChildren */\n  ) {\n    hydrateText(children, parentDOM, dom);\n    return children.dom;\n  }\n\n  hydrateChildren(vNode, parentDOM, dom, context, isSVG, lifecycle);\n  return findLastDOMFromVNode(children[children.length - 1]);\n}\n\nfunction hydrateVNode(vNode, parentDOM, currentDom, context, isSVG, lifecycle) {\n  const flags = vNode.flags |= 16384\n  /* InUse */\n  ;\n\n  if (flags & 14\n  /* Component */\n  ) {\n    return hydrateComponent(vNode, parentDOM, currentDom, context, isSVG, (flags & 4\n    /* ComponentClass */\n    ) > 0, lifecycle);\n  }\n\n  if (flags & 481\n  /* Element */\n  ) {\n    return hydrateElement(vNode, parentDOM, currentDom, context, isSVG, lifecycle);\n  }\n\n  if (flags & 16\n  /* Text */\n  ) {\n    return hydrateText(vNode, parentDOM, currentDom);\n  }\n\n  if (flags & 512\n  /* Void */\n  ) {\n    return vNode.dom = currentDom;\n  }\n\n  if (flags & 8192\n  /* Fragment */\n  ) {\n    return hydrateFragment(vNode, parentDOM, currentDom, context, isSVG, lifecycle);\n  }\n\n  throwError();\n  return null;\n}\n\nexport function hydrate(input, parentDOM, callback) {\n  let dom = parentDOM.firstChild;\n\n  if (isNull(dom)) {\n    render(input, parentDOM, callback);\n  } else {\n    const lifecycle = [];\n\n    if (!isInvalid(input)) {\n      dom = hydrateVNode(input, parentDOM, dom, {}, false, lifecycle);\n    } // clear any other DOM nodes, there should be only a single entry for the root\n\n\n    while (dom && (dom = dom.nextSibling)) {\n      parentDOM.removeChild(dom);\n    }\n\n    if (lifecycle.length > 0) {\n      let listener;\n\n      while ((listener = lifecycle.shift()) !== undefined) {\n        listener();\n      }\n    }\n  }\n\n  parentDOM.$V = input;\n\n  if (isFunction(callback)) {\n    callback();\n  }\n}","map":{"version":3,"sources":["C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/@devextreme/runtime/esm/inferno/mocked/hydrate.js"],"names":["_CI","_HI","_M","_MCCC","_ME","_MFCC","_MP","_MR","EMPTY_OBJ","render","_RFC","renderFunctionalComponent","isFunction","isInvalid","isNull","isNullOrUndef","throwError","isSameInnerHTML","dom","innerHTML","tempdom","document","createElement","findLastDOMFromVNode","vNode","flags","children","childFlags","length","$LI","isSamePropsInnerHTML","props","Boolean","dangerouslySetInnerHTML","__html","hydrateComponent","parentDOM","context","isSVG","isClass","lifecycle","type","ref","currentNode","instance","input","hydrateVNode","$CX","hydrateChildren","parentVNode","parentNode","nextSibling","appendChild","createTextNode","childNodes","nodeType","textContent","nodeValue","prevVNodeIsTextNode","i","len","child","removeChild","firstChild","defaultValue","hydrateElement","className","replaceChild","removeAttribute","setAttribute","hydrateText","text","hydrateFragment","currentDom","hydrate","callback","listener","shift","undefined","$V"],"mappings":"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","sourcesContent":["import { _CI, _HI, _M, _MCCC, _ME, _MFCC, _MP, _MR, EMPTY_OBJ, render, _RFC as renderFunctionalComponent, } from 'inferno';\nimport { isFunction, isInvalid, isNull, isNullOrUndef, throwError, } from './shared';\nfunction isSameInnerHTML(dom, innerHTML) {\n    const tempdom = document.createElement('i');\n    tempdom.innerHTML = innerHTML;\n    return tempdom.innerHTML === dom.innerHTML;\n}\nfunction findLastDOMFromVNode(vNode) {\n    let flags;\n    let children;\n    while (vNode) {\n        flags = vNode.flags;\n        if (flags & 2033 /* DOMRef */) {\n            return vNode.dom;\n        }\n        children = vNode.children;\n        if (flags & 8192 /* Fragment */) {\n            vNode = vNode.childFlags === 2 /* HasVNodeChildren */ ? children : children[children.length - 1];\n        }\n        else if (flags & 4 /* ComponentClass */) {\n            vNode = children.$LI;\n        }\n        else {\n            vNode = children;\n        }\n    }\n    return null;\n}\nfunction isSamePropsInnerHTML(dom, props) {\n    return Boolean(props && props.dangerouslySetInnerHTML && props.dangerouslySetInnerHTML.__html && isSameInnerHTML(dom, props.dangerouslySetInnerHTML.__html));\n}\nfunction hydrateComponent(vNode, parentDOM, dom, context, isSVG, isClass, lifecycle) {\n    const type = vNode.type;\n    const ref = vNode.ref;\n    const props = vNode.props || EMPTY_OBJ;\n    let currentNode;\n    if (isClass) {\n        const instance = _CI(vNode, type, props, context, isSVG, lifecycle);\n        const input = instance.$LI;\n        currentNode = hydrateVNode(input, parentDOM, dom, instance.$CX, isSVG, lifecycle);\n        _MCCC(ref, instance, lifecycle);\n    }\n    else {\n        const input = _HI(renderFunctionalComponent(vNode, context));\n        currentNode = hydrateVNode(input, parentDOM, dom, context, isSVG, lifecycle);\n        vNode.children = input;\n        _MFCC(vNode, lifecycle);\n    }\n    return currentNode;\n}\nfunction hydrateChildren(parentVNode, parentNode, currentNode, context, isSVG, lifecycle) {\n    const childFlags = parentVNode.childFlags;\n    const children = parentVNode.children;\n    const props = parentVNode.props;\n    const flags = parentVNode.flags;\n    if (childFlags !== 1 /* HasInvalidChildren */) {\n        if (childFlags === 2 /* HasVNodeChildren */) {\n            if (isNull(currentNode)) {\n                _M(children, parentNode, context, isSVG, null, lifecycle);\n            }\n            else {\n                currentNode = hydrateVNode(children, parentNode, currentNode, context, isSVG, lifecycle);\n                currentNode = currentNode ? currentNode.nextSibling : null;\n            }\n        }\n        else if (childFlags === 16 /* HasTextChildren */) {\n            if (isNull(currentNode)) {\n                parentNode.appendChild(document.createTextNode(children));\n            }\n            else if (parentNode.childNodes.length !== 1 || currentNode.nodeType !== 3) {\n                parentNode.textContent = children;\n            }\n            else if (currentNode.nodeValue !== children) {\n                currentNode.nodeValue = children;\n            }\n            currentNode = null;\n        }\n        else if (childFlags & 12 /* MultipleChildren */) {\n            let prevVNodeIsTextNode = false;\n            for (let i = 0, len = children.length; i < len; ++i) {\n                const child = children[i];\n                if (isNull(currentNode) || (prevVNodeIsTextNode && (child.flags & 16 /* Text */) > 0)) {\n                    _M(child, parentNode, context, isSVG, currentNode, lifecycle);\n                }\n                else {\n                    currentNode = hydrateVNode(child, parentNode, currentNode, context, isSVG, lifecycle);\n                    currentNode = currentNode ? currentNode.nextSibling : null;\n                }\n                prevVNodeIsTextNode = (child.flags & 16 /* Text */) > 0;\n            }\n        }\n        // clear any other DOM nodes, there should be only a single entry for the root\n        if ((flags & 8192 /* Fragment */) === 0) {\n            let nextSibling = null;\n            while (currentNode) {\n                nextSibling = currentNode.nextSibling;\n                parentNode.removeChild(currentNode);\n                currentNode = nextSibling;\n            }\n        }\n    }\n    else if (!isNull(parentNode.firstChild) && !isSamePropsInnerHTML(parentNode, props)) {\n        parentNode.textContent = ''; // dom has content, but VNode has no children remove everything from DOM\n        if (flags & 448 /* FormElement */) {\n            // If element is form element, we need to clear defaultValue also\n            parentNode.defaultValue = '';\n        }\n    }\n}\nfunction hydrateElement(vNode, parentDOM, dom, context, isSVG, lifecycle) {\n    const props = vNode.props;\n    const className = vNode.className;\n    const flags = vNode.flags;\n    const ref = vNode.ref;\n    isSVG = isSVG || (flags & 32 /* SvgElement */) > 0;\n    if (dom.nodeType !== 1) {\n        _ME(vNode, null, context, isSVG, null, lifecycle);\n        parentDOM.replaceChild(vNode.dom, dom);\n    }\n    else {\n        vNode.dom = dom;\n        hydrateChildren(vNode, dom, dom.firstChild, context, isSVG, lifecycle);\n        if (!isNull(props)) {\n            _MP(vNode, flags, props, dom, isSVG);\n        }\n        if (isNullOrUndef(className)) {\n            if (dom.className !== '') {\n                dom.removeAttribute('class');\n            }\n        }\n        else if (isSVG) {\n            dom.setAttribute('class', className);\n        }\n        else {\n            dom.className = className;\n        }\n        _MR(ref, dom, lifecycle);\n    }\n    return vNode.dom;\n}\nfunction hydrateText(vNode, parentDOM, dom) {\n    if (dom.nodeType !== 3) {\n        parentDOM.replaceChild((vNode.dom = document.createTextNode(vNode.children)), dom);\n    }\n    else {\n        const text = vNode.children;\n        if (dom.nodeValue !== text) {\n            dom.nodeValue = text;\n        }\n        vNode.dom = dom;\n    }\n    return vNode.dom;\n}\nfunction hydrateFragment(vNode, parentDOM, dom, context, isSVG, lifecycle) {\n    const children = vNode.children;\n    if (vNode.childFlags === 2 /* HasVNodeChildren */) {\n        hydrateText(children, parentDOM, dom);\n        return children.dom;\n    }\n    hydrateChildren(vNode, parentDOM, dom, context, isSVG, lifecycle);\n    return findLastDOMFromVNode(children[children.length - 1]);\n}\nfunction hydrateVNode(vNode, parentDOM, currentDom, context, isSVG, lifecycle) {\n    const flags = (vNode.flags |= 16384 /* InUse */);\n    if (flags & 14 /* Component */) {\n        return hydrateComponent(vNode, parentDOM, currentDom, context, isSVG, (flags & 4 /* ComponentClass */) > 0, lifecycle);\n    }\n    if (flags & 481 /* Element */) {\n        return hydrateElement(vNode, parentDOM, currentDom, context, isSVG, lifecycle);\n    }\n    if (flags & 16 /* Text */) {\n        return hydrateText(vNode, parentDOM, currentDom);\n    }\n    if (flags & 512 /* Void */) {\n        return (vNode.dom = currentDom);\n    }\n    if (flags & 8192 /* Fragment */) {\n        return hydrateFragment(vNode, parentDOM, currentDom, context, isSVG, lifecycle);\n    }\n    throwError();\n    return null;\n}\nexport function hydrate(input, parentDOM, callback) {\n    let dom = parentDOM.firstChild;\n    if (isNull(dom)) {\n        render(input, parentDOM, callback);\n    }\n    else {\n        const lifecycle = [];\n        if (!isInvalid(input)) {\n            dom = hydrateVNode(input, parentDOM, dom, {}, false, lifecycle);\n        }\n        // clear any other DOM nodes, there should be only a single entry for the root\n        while (dom && (dom = dom.nextSibling)) {\n            parentDOM.removeChild(dom);\n        }\n        if (lifecycle.length > 0) {\n            let listener;\n            while ((listener = lifecycle.shift()) !== undefined) {\n                listener();\n            }\n        }\n    }\n    parentDOM.$V = input;\n    if (isFunction(callback)) {\n        callback();\n    }\n}\n"]},"metadata":{},"sourceType":"module"}