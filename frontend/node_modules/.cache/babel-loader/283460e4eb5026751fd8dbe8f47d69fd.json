{"ast":null,"code":"/**\r\n * DevExtreme (esm/core/utils/common.js)\r\n * Version: 21.2.5\r\n * Build date: Mon Jan 17 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport config from \"../config\";\nimport Guid from \"../guid\";\nimport { when, Deferred } from \"../utils/deferred\";\nimport { toComparable } from \"./data\";\nimport { each } from \"./iterator\";\nimport { isDefined, isFunction, isString, isObject, type } from \"./type\";\nexport var ensureDefined = function (value, defaultValue) {\n  return isDefined(value) ? value : defaultValue;\n};\nexport var executeAsync = function (action, context) {\n  var deferred = new Deferred();\n  var normalizedContext = context || this;\n  var task = {\n    promise: deferred.promise(),\n    abort: function () {\n      clearTimeout(timerId);\n      deferred.rejectWith(normalizedContext);\n    }\n  };\n\n  var callback = function () {\n    var result = action.call(normalizedContext);\n\n    if (result && result.done && isFunction(result.done)) {\n      result.done(function () {\n        deferred.resolveWith(normalizedContext);\n      });\n    } else {\n      deferred.resolveWith(normalizedContext);\n    }\n  };\n\n  var timerId = (arguments[2] || setTimeout)(callback, \"number\" === typeof context ? context : 0);\n  return task;\n};\nvar delayedFuncs = [];\nvar delayedNames = [];\nvar delayedDeferreds = [];\nvar executingName;\n\nvar deferExecute = function (name, func, deferred) {\n  if (executingName && executingName !== name) {\n    delayedFuncs.push(func);\n    delayedNames.push(name);\n    deferred = deferred || new Deferred();\n    delayedDeferreds.push(deferred);\n    return deferred;\n  } else {\n    var oldExecutingName = executingName;\n    var currentDelayedCount = delayedDeferreds.length;\n    executingName = name;\n    var result = func();\n\n    if (!result) {\n      if (delayedDeferreds.length > currentDelayedCount) {\n        result = when.apply(this, delayedDeferreds.slice(currentDelayedCount));\n      } else if (deferred) {\n        deferred.resolve();\n      }\n    }\n\n    executingName = oldExecutingName;\n\n    if (deferred && result && result.done) {\n      result.done(deferred.resolve).fail(deferred.reject);\n    }\n\n    if (!executingName && delayedFuncs.length) {\n      (\"render\" === delayedNames.shift() ? deferRender : deferUpdate)(delayedFuncs.shift(), delayedDeferreds.shift());\n    }\n\n    return result || when();\n  }\n};\n\nexport var deferRender = function (func, deferred) {\n  return deferExecute(\"render\", func, deferred);\n};\nexport var deferUpdate = function (func, deferred) {\n  return deferExecute(\"update\", func, deferred);\n};\nexport var deferRenderer = function (func) {\n  return function () {\n    var that = this;\n    return deferExecute(\"render\", function () {\n      return func.call(that);\n    });\n  };\n};\nexport var deferUpdater = function (func) {\n  return function () {\n    var that = this;\n    return deferExecute(\"update\", function () {\n      return func.call(that);\n    });\n  };\n};\nexport var findBestMatches = function (targetFilter, items, mapFn) {\n  var bestMatches = [];\n  var maxMatchCount = 0;\n  each(items, (index, itemSrc) => {\n    var matchCount = 0;\n    var item = mapFn ? mapFn(itemSrc) : itemSrc;\n    each(targetFilter, (paramName, targetValue) => {\n      var value = item[paramName];\n\n      if (void 0 === value) {\n        return;\n      }\n\n      if (match(value, targetValue)) {\n        matchCount++;\n        return;\n      }\n\n      matchCount = -1;\n      return false;\n    });\n\n    if (matchCount < maxMatchCount) {\n      return;\n    }\n\n    if (matchCount > maxMatchCount) {\n      bestMatches.length = 0;\n      maxMatchCount = matchCount;\n    }\n\n    bestMatches.push(itemSrc);\n  });\n  return bestMatches;\n};\n\nvar match = function (value, targetValue) {\n  if (Array.isArray(value) && Array.isArray(targetValue)) {\n    var mismatch = false;\n    each(value, (index, valueItem) => {\n      if (valueItem !== targetValue[index]) {\n        mismatch = true;\n        return false;\n      }\n    });\n\n    if (mismatch) {\n      return false;\n    }\n\n    return true;\n  }\n\n  if (value === targetValue) {\n    return true;\n  }\n\n  return false;\n};\n\nexport var splitPair = function (raw) {\n  var _raw$x, _raw$y;\n\n  switch (type(raw)) {\n    case \"string\":\n      return raw.split(/\\s+/, 2);\n\n    case \"object\":\n      return [null !== (_raw$x = raw.x) && void 0 !== _raw$x ? _raw$x : raw.h, null !== (_raw$y = raw.y) && void 0 !== _raw$y ? _raw$y : raw.v];\n\n    case \"number\":\n      return [raw];\n\n    case \"array\":\n      return raw;\n\n    default:\n      return null;\n  }\n};\nexport var normalizeKey = function (id) {\n  var key = isString(id) ? id : id.toString();\n  var arr = key.match(/[^a-zA-Z0-9_]/g);\n  arr && each(arr, (_, sign) => {\n    key = key.replace(sign, \"__\" + sign.charCodeAt() + \"__\");\n  });\n  return key;\n};\nexport var denormalizeKey = function (key) {\n  var arr = key.match(/__\\d+__/g);\n  arr && arr.forEach(char => {\n    var charCode = parseInt(char.replace(\"__\", \"\"));\n    key = key.replace(char, String.fromCharCode(charCode));\n  });\n  return key;\n};\nexport var pairToObject = function (raw, preventRound) {\n  var pair = splitPair(raw);\n  var h = preventRound ? parseFloat(pair && pair[0]) : parseInt(pair && pair[0], 10);\n  var v = preventRound ? parseFloat(pair && pair[1]) : parseInt(pair && pair[1], 10);\n\n  if (!isFinite(h)) {\n    h = 0;\n  }\n\n  if (!isFinite(v)) {\n    v = h;\n  }\n\n  return {\n    h: h,\n    v: v\n  };\n};\nexport var getKeyHash = function (key) {\n  if (key instanceof Guid) {\n    return key.toString();\n  } else if (isObject(key) || Array.isArray(key)) {\n    try {\n      var keyHash = JSON.stringify(key);\n      return \"{}\" === keyHash ? key : keyHash;\n    } catch (e) {\n      return key;\n    }\n  }\n\n  return key;\n};\nexport var escapeRegExp = function (string) {\n  return string.replace(/[[\\]{}\\-()*+?.\\\\^$|\\s]/g, \"\\\\$&\");\n};\nexport var applyServerDecimalSeparator = function (value) {\n  var separator = config().serverDecimalSeparator;\n\n  if (isDefined(value)) {\n    value = value.toString().replace(\".\", separator);\n  }\n\n  return value;\n};\nexport var noop = function () {};\nexport var asyncNoop = function () {\n  return new Deferred().resolve().promise();\n};\nexport var grep = function (elements, checkFunction, invert) {\n  var result = [];\n  var check;\n  var expectedCheck = !invert;\n\n  for (var i = 0; i < elements.length; i++) {\n    check = !!checkFunction(elements[i], i);\n\n    if (check === expectedCheck) {\n      result.push(elements[i]);\n    }\n  }\n\n  return result;\n};\n\nvar arraysEqualByValue = function (array1, array2, depth) {\n  if (array1.length !== array2.length) {\n    return false;\n  }\n\n  for (var i = 0; i < array1.length; i++) {\n    if (!equalByValue(array1[i], array2[i], depth + 1)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar objectsEqualByValue = function (object1, object2, depth, strict) {\n  for (var propertyName in object1) {\n    if (Object.prototype.hasOwnProperty.call(object1, propertyName) && !equalByValue(object1[propertyName], object2[propertyName], depth + 1, strict)) {\n      return false;\n    }\n  }\n\n  for (var _propertyName in object2) {\n    if (!(_propertyName in object1)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar maxEqualityDepth = 3;\nexport var equalByValue = function (object1, object2) {\n  var depth = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;\n  var strict = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : true;\n  object1 = toComparable(object1, true);\n  object2 = toComparable(object2, true);\n  var comparisonResult = strict ? object1 === object2 : object1 == object2;\n\n  if (comparisonResult || depth >= maxEqualityDepth) {\n    return true;\n  }\n\n  if (isObject(object1) && isObject(object2)) {\n    return objectsEqualByValue(object1, object2, depth, strict);\n  } else if (Array.isArray(object1) && Array.isArray(object2)) {\n    return arraysEqualByValue(object1, object2, depth);\n  }\n\n  return false;\n};","map":{"version":3,"sources":["C:/Users/ciara/OneDrive - GMIT/Coin A-Z Test Repo/frontend/node_modules/devextreme/esm/core/utils/common.js"],"names":["config","Guid","when","Deferred","toComparable","each","isDefined","isFunction","isString","isObject","type","ensureDefined","value","defaultValue","executeAsync","action","context","deferred","normalizedContext","task","promise","abort","clearTimeout","timerId","rejectWith","callback","result","call","done","resolveWith","arguments","setTimeout","delayedFuncs","delayedNames","delayedDeferreds","executingName","deferExecute","name","func","push","oldExecutingName","currentDelayedCount","length","apply","slice","resolve","fail","reject","shift","deferRender","deferUpdate","deferRenderer","that","deferUpdater","findBestMatches","targetFilter","items","mapFn","bestMatches","maxMatchCount","index","itemSrc","matchCount","item","paramName","targetValue","match","Array","isArray","mismatch","valueItem","splitPair","raw","_raw$x","_raw$y","split","x","h","y","v","normalizeKey","id","key","toString","arr","_","sign","replace","charCodeAt","denormalizeKey","forEach","char","charCode","parseInt","String","fromCharCode","pairToObject","preventRound","pair","parseFloat","isFinite","getKeyHash","keyHash","JSON","stringify","e","escapeRegExp","string","applyServerDecimalSeparator","separator","serverDecimalSeparator","noop","asyncNoop","grep","elements","checkFunction","invert","check","expectedCheck","i","arraysEqualByValue","array1","array2","depth","equalByValue","objectsEqualByValue","object1","object2","strict","propertyName","Object","prototype","hasOwnProperty","_propertyName","maxEqualityDepth","comparisonResult"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,SACIC,IADJ,EAEIC,QAFJ,QAGO,mBAHP;AAIA,SACIC,YADJ,QAEO,QAFP;AAGA,SACIC,IADJ,QAEO,YAFP;AAGA,SACIC,SADJ,EAEIC,UAFJ,EAGIC,QAHJ,EAIIC,QAJJ,EAKIC,IALJ,QAMO,QANP;AAOA,OAAO,IAAIC,aAAa,GAAG,UAASC,KAAT,EAAgBC,YAAhB,EAA8B;AACrD,SAAOP,SAAS,CAACM,KAAD,CAAT,GAAmBA,KAAnB,GAA2BC,YAAlC;AACH,CAFM;AAGP,OAAO,IAAIC,YAAY,GAAG,UAASC,MAAT,EAAiBC,OAAjB,EAA0B;AAChD,MAAIC,QAAQ,GAAG,IAAId,QAAJ,EAAf;AACA,MAAIe,iBAAiB,GAAGF,OAAO,IAAI,IAAnC;AACA,MAAIG,IAAI,GAAG;AACPC,IAAAA,OAAO,EAAEH,QAAQ,CAACG,OAAT,EADF;AAEPC,IAAAA,KAAK,EAAE,YAAW;AACdC,MAAAA,YAAY,CAACC,OAAD,CAAZ;AACAN,MAAAA,QAAQ,CAACO,UAAT,CAAoBN,iBAApB;AACH;AALM,GAAX;;AAOA,MAAIO,QAAQ,GAAG,YAAW;AACtB,QAAIC,MAAM,GAAGX,MAAM,CAACY,IAAP,CAAYT,iBAAZ,CAAb;;AACA,QAAIQ,MAAM,IAAIA,MAAM,CAACE,IAAjB,IAAyBrB,UAAU,CAACmB,MAAM,CAACE,IAAR,CAAvC,EAAsD;AAClDF,MAAAA,MAAM,CAACE,IAAP,CAAa,YAAW;AACpBX,QAAAA,QAAQ,CAACY,WAAT,CAAqBX,iBAArB;AACH,OAFD;AAGH,KAJD,MAIO;AACHD,MAAAA,QAAQ,CAACY,WAAT,CAAqBX,iBAArB;AACH;AACJ,GATD;;AAUA,MAAIK,OAAO,GAAG,CAACO,SAAS,CAAC,CAAD,CAAT,IAAgBC,UAAjB,EAA6BN,QAA7B,EAAuC,aAAa,OAAOT,OAApB,GAA8BA,OAA9B,GAAwC,CAA/E,CAAd;AACA,SAAOG,IAAP;AACH,CAtBM;AAuBP,IAAIa,YAAY,GAAG,EAAnB;AACA,IAAIC,YAAY,GAAG,EAAnB;AACA,IAAIC,gBAAgB,GAAG,EAAvB;AACA,IAAIC,aAAJ;;AACA,IAAIC,YAAY,GAAG,UAASC,IAAT,EAAeC,IAAf,EAAqBrB,QAArB,EAA+B;AAC9C,MAAIkB,aAAa,IAAIA,aAAa,KAAKE,IAAvC,EAA6C;AACzCL,IAAAA,YAAY,CAACO,IAAb,CAAkBD,IAAlB;AACAL,IAAAA,YAAY,CAACM,IAAb,CAAkBF,IAAlB;AACApB,IAAAA,QAAQ,GAAGA,QAAQ,IAAI,IAAId,QAAJ,EAAvB;AACA+B,IAAAA,gBAAgB,CAACK,IAAjB,CAAsBtB,QAAtB;AACA,WAAOA,QAAP;AACH,GAND,MAMO;AACH,QAAIuB,gBAAgB,GAAGL,aAAvB;AACA,QAAIM,mBAAmB,GAAGP,gBAAgB,CAACQ,MAA3C;AACAP,IAAAA,aAAa,GAAGE,IAAhB;AACA,QAAIX,MAAM,GAAGY,IAAI,EAAjB;;AACA,QAAI,CAACZ,MAAL,EAAa;AACT,UAAIQ,gBAAgB,CAACQ,MAAjB,GAA0BD,mBAA9B,EAAmD;AAC/Cf,QAAAA,MAAM,GAAGxB,IAAI,CAACyC,KAAL,CAAW,IAAX,EAAiBT,gBAAgB,CAACU,KAAjB,CAAuBH,mBAAvB,CAAjB,CAAT;AACH,OAFD,MAEO,IAAIxB,QAAJ,EAAc;AACjBA,QAAAA,QAAQ,CAAC4B,OAAT;AACH;AACJ;;AACDV,IAAAA,aAAa,GAAGK,gBAAhB;;AACA,QAAIvB,QAAQ,IAAIS,MAAZ,IAAsBA,MAAM,CAACE,IAAjC,EAAuC;AACnCF,MAAAA,MAAM,CAACE,IAAP,CAAYX,QAAQ,CAAC4B,OAArB,EAA8BC,IAA9B,CAAmC7B,QAAQ,CAAC8B,MAA5C;AACH;;AACD,QAAI,CAACZ,aAAD,IAAkBH,YAAY,CAACU,MAAnC,EAA2C;AACvC,OAAC,aAAaT,YAAY,CAACe,KAAb,EAAb,GAAoCC,WAApC,GAAkDC,WAAnD,EAAgElB,YAAY,CAACgB,KAAb,EAAhE,EAAsFd,gBAAgB,CAACc,KAAjB,EAAtF;AACH;;AACD,WAAOtB,MAAM,IAAIxB,IAAI,EAArB;AACH;AACJ,CA5BD;;AA6BA,OAAO,IAAI+C,WAAW,GAAG,UAASX,IAAT,EAAerB,QAAf,EAAyB;AAC9C,SAAOmB,YAAY,CAAC,QAAD,EAAWE,IAAX,EAAiBrB,QAAjB,CAAnB;AACH,CAFM;AAGP,OAAO,IAAIiC,WAAW,GAAG,UAASZ,IAAT,EAAerB,QAAf,EAAyB;AAC9C,SAAOmB,YAAY,CAAC,QAAD,EAAWE,IAAX,EAAiBrB,QAAjB,CAAnB;AACH,CAFM;AAGP,OAAO,IAAIkC,aAAa,GAAG,UAASb,IAAT,EAAe;AACtC,SAAO,YAAW;AACd,QAAIc,IAAI,GAAG,IAAX;AACA,WAAOhB,YAAY,CAAC,QAAD,EAAY,YAAW;AACtC,aAAOE,IAAI,CAACX,IAAL,CAAUyB,IAAV,CAAP;AACH,KAFkB,CAAnB;AAGH,GALD;AAMH,CAPM;AAQP,OAAO,IAAIC,YAAY,GAAG,UAASf,IAAT,EAAe;AACrC,SAAO,YAAW;AACd,QAAIc,IAAI,GAAG,IAAX;AACA,WAAOhB,YAAY,CAAC,QAAD,EAAY,YAAW;AACtC,aAAOE,IAAI,CAACX,IAAL,CAAUyB,IAAV,CAAP;AACH,KAFkB,CAAnB;AAGH,GALD;AAMH,CAPM;AAQP,OAAO,IAAIE,eAAe,GAAG,UAASC,YAAT,EAAuBC,KAAvB,EAA8BC,KAA9B,EAAqC;AAC9D,MAAIC,WAAW,GAAG,EAAlB;AACA,MAAIC,aAAa,GAAG,CAApB;AACAtD,EAAAA,IAAI,CAACmD,KAAD,EAAQ,CAACI,KAAD,EAAQC,OAAR,KAAoB;AAC5B,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,IAAI,GAAGN,KAAK,GAAGA,KAAK,CAACI,OAAD,CAAR,GAAoBA,OAApC;AACAxD,IAAAA,IAAI,CAACkD,YAAD,EAAe,CAACS,SAAD,EAAYC,WAAZ,KAA4B;AAC3C,UAAIrD,KAAK,GAAGmD,IAAI,CAACC,SAAD,CAAhB;;AACA,UAAI,KAAK,CAAL,KAAWpD,KAAf,EAAsB;AAClB;AACH;;AACD,UAAIsD,KAAK,CAACtD,KAAD,EAAQqD,WAAR,CAAT,EAA+B;AAC3BH,QAAAA,UAAU;AACV;AACH;;AACDA,MAAAA,UAAU,GAAG,CAAC,CAAd;AACA,aAAO,KAAP;AACH,KAXG,CAAJ;;AAYA,QAAIA,UAAU,GAAGH,aAAjB,EAAgC;AAC5B;AACH;;AACD,QAAIG,UAAU,GAAGH,aAAjB,EAAgC;AAC5BD,MAAAA,WAAW,CAAChB,MAAZ,GAAqB,CAArB;AACAiB,MAAAA,aAAa,GAAGG,UAAhB;AACH;;AACDJ,IAAAA,WAAW,CAACnB,IAAZ,CAAiBsB,OAAjB;AACH,GAvBG,CAAJ;AAwBA,SAAOH,WAAP;AACH,CA5BM;;AA6BP,IAAIQ,KAAK,GAAG,UAAStD,KAAT,EAAgBqD,WAAhB,EAA6B;AACrC,MAAIE,KAAK,CAACC,OAAN,CAAcxD,KAAd,KAAwBuD,KAAK,CAACC,OAAN,CAAcH,WAAd,CAA5B,EAAwD;AACpD,QAAII,QAAQ,GAAG,KAAf;AACAhE,IAAAA,IAAI,CAACO,KAAD,EAAQ,CAACgD,KAAD,EAAQU,SAAR,KAAsB;AAC9B,UAAIA,SAAS,KAAKL,WAAW,CAACL,KAAD,CAA7B,EAAsC;AAClCS,QAAAA,QAAQ,GAAG,IAAX;AACA,eAAO,KAAP;AACH;AACJ,KALG,CAAJ;;AAMA,QAAIA,QAAJ,EAAc;AACV,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH;;AACD,MAAIzD,KAAK,KAAKqD,WAAd,EAA2B;AACvB,WAAO,IAAP;AACH;;AACD,SAAO,KAAP;AACH,CAlBD;;AAmBA,OAAO,IAAIM,SAAS,GAAG,UAASC,GAAT,EAAc;AACjC,MAAIC,MAAJ,EAAYC,MAAZ;;AACA,UAAQhE,IAAI,CAAC8D,GAAD,CAAZ;AACI,SAAK,QAAL;AACI,aAAOA,GAAG,CAACG,KAAJ,CAAU,KAAV,EAAiB,CAAjB,CAAP;;AACJ,SAAK,QAAL;AACI,aAAO,CAAC,UAAUF,MAAM,GAAGD,GAAG,CAACI,CAAvB,KAA6B,KAAK,CAAL,KAAWH,MAAxC,GAAiDA,MAAjD,GAA0DD,GAAG,CAACK,CAA/D,EAAkE,UAAUH,MAAM,GAAGF,GAAG,CAACM,CAAvB,KAA6B,KAAK,CAAL,KAAWJ,MAAxC,GAAiDA,MAAjD,GAA0DF,GAAG,CAACO,CAAhI,CAAP;;AACJ,SAAK,QAAL;AACI,aAAO,CAACP,GAAD,CAAP;;AACJ,SAAK,OAAL;AACI,aAAOA,GAAP;;AACJ;AACI,aAAO,IAAP;AAVR;AAYH,CAdM;AAeP,OAAO,IAAIQ,YAAY,GAAG,UAASC,EAAT,EAAa;AACnC,MAAIC,GAAG,GAAG1E,QAAQ,CAACyE,EAAD,CAAR,GAAeA,EAAf,GAAoBA,EAAE,CAACE,QAAH,EAA9B;AACA,MAAIC,GAAG,GAAGF,GAAG,CAAChB,KAAJ,CAAU,gBAAV,CAAV;AACAkB,EAAAA,GAAG,IAAI/E,IAAI,CAAC+E,GAAD,EAAM,CAACC,CAAD,EAAIC,IAAJ,KAAa;AAC1BJ,IAAAA,GAAG,GAAGA,GAAG,CAACK,OAAJ,CAAYD,IAAZ,EAAkB,OAAOA,IAAI,CAACE,UAAL,EAAP,GAA2B,IAA7C,CAAN;AACH,GAFU,CAAX;AAGA,SAAON,GAAP;AACH,CAPM;AAQP,OAAO,IAAIO,cAAc,GAAG,UAASP,GAAT,EAAc;AACtC,MAAIE,GAAG,GAAGF,GAAG,CAAChB,KAAJ,CAAU,UAAV,CAAV;AACAkB,EAAAA,GAAG,IAAIA,GAAG,CAACM,OAAJ,CAAYC,IAAI,IAAI;AACvB,QAAIC,QAAQ,GAAGC,QAAQ,CAACF,IAAI,CAACJ,OAAL,CAAa,IAAb,EAAmB,EAAnB,CAAD,CAAvB;AACAL,IAAAA,GAAG,GAAGA,GAAG,CAACK,OAAJ,CAAYI,IAAZ,EAAkBG,MAAM,CAACC,YAAP,CAAoBH,QAApB,CAAlB,CAAN;AACH,GAHM,CAAP;AAIA,SAAOV,GAAP;AACH,CAPM;AAQP,OAAO,IAAIc,YAAY,GAAG,UAASxB,GAAT,EAAcyB,YAAd,EAA4B;AAClD,MAAIC,IAAI,GAAG3B,SAAS,CAACC,GAAD,CAApB;AACA,MAAIK,CAAC,GAAGoB,YAAY,GAAGE,UAAU,CAACD,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAb,CAAb,GAAiCL,QAAQ,CAACK,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAb,EAAkB,EAAlB,CAA7D;AACA,MAAInB,CAAC,GAAGkB,YAAY,GAAGE,UAAU,CAACD,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAb,CAAb,GAAiCL,QAAQ,CAACK,IAAI,IAAIA,IAAI,CAAC,CAAD,CAAb,EAAkB,EAAlB,CAA7D;;AACA,MAAI,CAACE,QAAQ,CAACvB,CAAD,CAAb,EAAkB;AACdA,IAAAA,CAAC,GAAG,CAAJ;AACH;;AACD,MAAI,CAACuB,QAAQ,CAACrB,CAAD,CAAb,EAAkB;AACdA,IAAAA,CAAC,GAAGF,CAAJ;AACH;;AACD,SAAO;AACHA,IAAAA,CAAC,EAAEA,CADA;AAEHE,IAAAA,CAAC,EAAEA;AAFA,GAAP;AAIH,CAdM;AAeP,OAAO,IAAIsB,UAAU,GAAG,UAASnB,GAAT,EAAc;AAClC,MAAIA,GAAG,YAAYjF,IAAnB,EAAyB;AACrB,WAAOiF,GAAG,CAACC,QAAJ,EAAP;AACH,GAFD,MAEO,IAAI1E,QAAQ,CAACyE,GAAD,CAAR,IAAiBf,KAAK,CAACC,OAAN,CAAcc,GAAd,CAArB,EAAyC;AAC5C,QAAI;AACA,UAAIoB,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAetB,GAAf,CAAd;AACA,aAAO,SAASoB,OAAT,GAAmBpB,GAAnB,GAAyBoB,OAAhC;AACH,KAHD,CAGE,OAAOG,CAAP,EAAU;AACR,aAAOvB,GAAP;AACH;AACJ;;AACD,SAAOA,GAAP;AACH,CAZM;AAaP,OAAO,IAAIwB,YAAY,GAAG,UAASC,MAAT,EAAiB;AACvC,SAAOA,MAAM,CAACpB,OAAP,CAAe,yBAAf,EAA0C,MAA1C,CAAP;AACH,CAFM;AAGP,OAAO,IAAIqB,2BAA2B,GAAG,UAAShG,KAAT,EAAgB;AACrD,MAAIiG,SAAS,GAAG7G,MAAM,GAAG8G,sBAAzB;;AACA,MAAIxG,SAAS,CAACM,KAAD,CAAb,EAAsB;AAClBA,IAAAA,KAAK,GAAGA,KAAK,CAACuE,QAAN,GAAiBI,OAAjB,CAAyB,GAAzB,EAA8BsB,SAA9B,CAAR;AACH;;AACD,SAAOjG,KAAP;AACH,CANM;AAOP,OAAO,IAAImG,IAAI,GAAG,YAAW,CAAE,CAAxB;AACP,OAAO,IAAIC,SAAS,GAAG,YAAW;AAC9B,SAAQ,IAAI7G,QAAJ,EAAD,CAAe0C,OAAf,GAAyBzB,OAAzB,EAAP;AACH,CAFM;AAGP,OAAO,IAAI6F,IAAI,GAAG,UAASC,QAAT,EAAmBC,aAAnB,EAAkCC,MAAlC,EAA0C;AACxD,MAAI1F,MAAM,GAAG,EAAb;AACA,MAAI2F,KAAJ;AACA,MAAIC,aAAa,GAAG,CAACF,MAArB;;AACA,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,QAAQ,CAACxE,MAA7B,EAAqC6E,CAAC,EAAtC,EAA0C;AACtCF,IAAAA,KAAK,GAAG,CAAC,CAACF,aAAa,CAACD,QAAQ,CAACK,CAAD,CAAT,EAAcA,CAAd,CAAvB;;AACA,QAAIF,KAAK,KAAKC,aAAd,EAA6B;AACzB5F,MAAAA,MAAM,CAACa,IAAP,CAAY2E,QAAQ,CAACK,CAAD,CAApB;AACH;AACJ;;AACD,SAAO7F,MAAP;AACH,CAXM;;AAYP,IAAI8F,kBAAkB,GAAG,UAASC,MAAT,EAAiBC,MAAjB,EAAyBC,KAAzB,EAAgC;AACrD,MAAIF,MAAM,CAAC/E,MAAP,KAAkBgF,MAAM,CAAChF,MAA7B,EAAqC;AACjC,WAAO,KAAP;AACH;;AACD,OAAK,IAAI6E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,MAAM,CAAC/E,MAA3B,EAAmC6E,CAAC,EAApC,EAAwC;AACpC,QAAI,CAACK,YAAY,CAACH,MAAM,CAACF,CAAD,CAAP,EAAYG,MAAM,CAACH,CAAD,CAAlB,EAAuBI,KAAK,GAAG,CAA/B,CAAjB,EAAoD;AAChD,aAAO,KAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH,CAVD;;AAWA,IAAIE,mBAAmB,GAAG,UAASC,OAAT,EAAkBC,OAAlB,EAA2BJ,KAA3B,EAAkCK,MAAlC,EAA0C;AAChE,OAAK,IAAIC,YAAT,IAAyBH,OAAzB,EAAkC;AAC9B,QAAII,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCzG,IAAhC,CAAqCmG,OAArC,EAA8CG,YAA9C,KAA+D,CAACL,YAAY,CAACE,OAAO,CAACG,YAAD,CAAR,EAAwBF,OAAO,CAACE,YAAD,CAA/B,EAA+CN,KAAK,GAAG,CAAvD,EAA0DK,MAA1D,CAAhF,EAAmJ;AAC/I,aAAO,KAAP;AACH;AACJ;;AACD,OAAK,IAAIK,aAAT,IAA0BN,OAA1B,EAAmC;AAC/B,QAAI,EAAEM,aAAa,IAAIP,OAAnB,CAAJ,EAAiC;AAC7B,aAAO,KAAP;AACH;AACJ;;AACD,SAAO,IAAP;AACH,CAZD;;AAaA,IAAIQ,gBAAgB,GAAG,CAAvB;AACA,OAAO,IAAIV,YAAY,GAAG,UAASE,OAAT,EAAkBC,OAAlB,EAA2B;AACjD,MAAIJ,KAAK,GAAG7F,SAAS,CAACY,MAAV,GAAmB,CAAnB,IAAwB,KAAK,CAAL,KAAWZ,SAAS,CAAC,CAAD,CAA5C,GAAkDA,SAAS,CAAC,CAAD,CAA3D,GAAiE,CAA7E;AACA,MAAIkG,MAAM,GAAGlG,SAAS,CAACY,MAAV,GAAmB,CAAnB,IAAwB,KAAK,CAAL,KAAWZ,SAAS,CAAC,CAAD,CAA5C,GAAkDA,SAAS,CAAC,CAAD,CAA3D,GAAiE,IAA9E;AACAgG,EAAAA,OAAO,GAAG1H,YAAY,CAAC0H,OAAD,EAAU,IAAV,CAAtB;AACAC,EAAAA,OAAO,GAAG3H,YAAY,CAAC2H,OAAD,EAAU,IAAV,CAAtB;AACA,MAAIQ,gBAAgB,GAAGP,MAAM,GAAGF,OAAO,KAAKC,OAAf,GAAyBD,OAAO,IAAIC,OAAjE;;AACA,MAAIQ,gBAAgB,IAAIZ,KAAK,IAAIW,gBAAjC,EAAmD;AAC/C,WAAO,IAAP;AACH;;AACD,MAAI7H,QAAQ,CAACqH,OAAD,CAAR,IAAqBrH,QAAQ,CAACsH,OAAD,CAAjC,EAA4C;AACxC,WAAOF,mBAAmB,CAACC,OAAD,EAAUC,OAAV,EAAmBJ,KAAnB,EAA0BK,MAA1B,CAA1B;AACH,GAFD,MAEO,IAAI7D,KAAK,CAACC,OAAN,CAAc0D,OAAd,KAA0B3D,KAAK,CAACC,OAAN,CAAc2D,OAAd,CAA9B,EAAsD;AACzD,WAAOP,kBAAkB,CAACM,OAAD,EAAUC,OAAV,EAAmBJ,KAAnB,CAAzB;AACH;;AACD,SAAO,KAAP;AACH,CAfM","sourcesContent":["/**\r\n * DevExtreme (esm/core/utils/common.js)\r\n * Version: 21.2.5\r\n * Build date: Mon Jan 17 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport config from \"../config\";\r\nimport Guid from \"../guid\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../utils/deferred\";\r\nimport {\r\n    toComparable\r\n} from \"./data\";\r\nimport {\r\n    each\r\n} from \"./iterator\";\r\nimport {\r\n    isDefined,\r\n    isFunction,\r\n    isString,\r\n    isObject,\r\n    type\r\n} from \"./type\";\r\nexport var ensureDefined = function(value, defaultValue) {\r\n    return isDefined(value) ? value : defaultValue\r\n};\r\nexport var executeAsync = function(action, context) {\r\n    var deferred = new Deferred;\r\n    var normalizedContext = context || this;\r\n    var task = {\r\n        promise: deferred.promise(),\r\n        abort: function() {\r\n            clearTimeout(timerId);\r\n            deferred.rejectWith(normalizedContext)\r\n        }\r\n    };\r\n    var callback = function() {\r\n        var result = action.call(normalizedContext);\r\n        if (result && result.done && isFunction(result.done)) {\r\n            result.done((function() {\r\n                deferred.resolveWith(normalizedContext)\r\n            }))\r\n        } else {\r\n            deferred.resolveWith(normalizedContext)\r\n        }\r\n    };\r\n    var timerId = (arguments[2] || setTimeout)(callback, \"number\" === typeof context ? context : 0);\r\n    return task\r\n};\r\nvar delayedFuncs = [];\r\nvar delayedNames = [];\r\nvar delayedDeferreds = [];\r\nvar executingName;\r\nvar deferExecute = function(name, func, deferred) {\r\n    if (executingName && executingName !== name) {\r\n        delayedFuncs.push(func);\r\n        delayedNames.push(name);\r\n        deferred = deferred || new Deferred;\r\n        delayedDeferreds.push(deferred);\r\n        return deferred\r\n    } else {\r\n        var oldExecutingName = executingName;\r\n        var currentDelayedCount = delayedDeferreds.length;\r\n        executingName = name;\r\n        var result = func();\r\n        if (!result) {\r\n            if (delayedDeferreds.length > currentDelayedCount) {\r\n                result = when.apply(this, delayedDeferreds.slice(currentDelayedCount))\r\n            } else if (deferred) {\r\n                deferred.resolve()\r\n            }\r\n        }\r\n        executingName = oldExecutingName;\r\n        if (deferred && result && result.done) {\r\n            result.done(deferred.resolve).fail(deferred.reject)\r\n        }\r\n        if (!executingName && delayedFuncs.length) {\r\n            (\"render\" === delayedNames.shift() ? deferRender : deferUpdate)(delayedFuncs.shift(), delayedDeferreds.shift())\r\n        }\r\n        return result || when()\r\n    }\r\n};\r\nexport var deferRender = function(func, deferred) {\r\n    return deferExecute(\"render\", func, deferred)\r\n};\r\nexport var deferUpdate = function(func, deferred) {\r\n    return deferExecute(\"update\", func, deferred)\r\n};\r\nexport var deferRenderer = function(func) {\r\n    return function() {\r\n        var that = this;\r\n        return deferExecute(\"render\", (function() {\r\n            return func.call(that)\r\n        }))\r\n    }\r\n};\r\nexport var deferUpdater = function(func) {\r\n    return function() {\r\n        var that = this;\r\n        return deferExecute(\"update\", (function() {\r\n            return func.call(that)\r\n        }))\r\n    }\r\n};\r\nexport var findBestMatches = function(targetFilter, items, mapFn) {\r\n    var bestMatches = [];\r\n    var maxMatchCount = 0;\r\n    each(items, (index, itemSrc) => {\r\n        var matchCount = 0;\r\n        var item = mapFn ? mapFn(itemSrc) : itemSrc;\r\n        each(targetFilter, (paramName, targetValue) => {\r\n            var value = item[paramName];\r\n            if (void 0 === value) {\r\n                return\r\n            }\r\n            if (match(value, targetValue)) {\r\n                matchCount++;\r\n                return\r\n            }\r\n            matchCount = -1;\r\n            return false\r\n        });\r\n        if (matchCount < maxMatchCount) {\r\n            return\r\n        }\r\n        if (matchCount > maxMatchCount) {\r\n            bestMatches.length = 0;\r\n            maxMatchCount = matchCount\r\n        }\r\n        bestMatches.push(itemSrc)\r\n    });\r\n    return bestMatches\r\n};\r\nvar match = function(value, targetValue) {\r\n    if (Array.isArray(value) && Array.isArray(targetValue)) {\r\n        var mismatch = false;\r\n        each(value, (index, valueItem) => {\r\n            if (valueItem !== targetValue[index]) {\r\n                mismatch = true;\r\n                return false\r\n            }\r\n        });\r\n        if (mismatch) {\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    if (value === targetValue) {\r\n        return true\r\n    }\r\n    return false\r\n};\r\nexport var splitPair = function(raw) {\r\n    var _raw$x, _raw$y;\r\n    switch (type(raw)) {\r\n        case \"string\":\r\n            return raw.split(/\\s+/, 2);\r\n        case \"object\":\r\n            return [null !== (_raw$x = raw.x) && void 0 !== _raw$x ? _raw$x : raw.h, null !== (_raw$y = raw.y) && void 0 !== _raw$y ? _raw$y : raw.v];\r\n        case \"number\":\r\n            return [raw];\r\n        case \"array\":\r\n            return raw;\r\n        default:\r\n            return null\r\n    }\r\n};\r\nexport var normalizeKey = function(id) {\r\n    var key = isString(id) ? id : id.toString();\r\n    var arr = key.match(/[^a-zA-Z0-9_]/g);\r\n    arr && each(arr, (_, sign) => {\r\n        key = key.replace(sign, \"__\" + sign.charCodeAt() + \"__\")\r\n    });\r\n    return key\r\n};\r\nexport var denormalizeKey = function(key) {\r\n    var arr = key.match(/__\\d+__/g);\r\n    arr && arr.forEach(char => {\r\n        var charCode = parseInt(char.replace(\"__\", \"\"));\r\n        key = key.replace(char, String.fromCharCode(charCode))\r\n    });\r\n    return key\r\n};\r\nexport var pairToObject = function(raw, preventRound) {\r\n    var pair = splitPair(raw);\r\n    var h = preventRound ? parseFloat(pair && pair[0]) : parseInt(pair && pair[0], 10);\r\n    var v = preventRound ? parseFloat(pair && pair[1]) : parseInt(pair && pair[1], 10);\r\n    if (!isFinite(h)) {\r\n        h = 0\r\n    }\r\n    if (!isFinite(v)) {\r\n        v = h\r\n    }\r\n    return {\r\n        h: h,\r\n        v: v\r\n    }\r\n};\r\nexport var getKeyHash = function(key) {\r\n    if (key instanceof Guid) {\r\n        return key.toString()\r\n    } else if (isObject(key) || Array.isArray(key)) {\r\n        try {\r\n            var keyHash = JSON.stringify(key);\r\n            return \"{}\" === keyHash ? key : keyHash\r\n        } catch (e) {\r\n            return key\r\n        }\r\n    }\r\n    return key\r\n};\r\nexport var escapeRegExp = function(string) {\r\n    return string.replace(/[[\\]{}\\-()*+?.\\\\^$|\\s]/g, \"\\\\$&\")\r\n};\r\nexport var applyServerDecimalSeparator = function(value) {\r\n    var separator = config().serverDecimalSeparator;\r\n    if (isDefined(value)) {\r\n        value = value.toString().replace(\".\", separator)\r\n    }\r\n    return value\r\n};\r\nexport var noop = function() {};\r\nexport var asyncNoop = function() {\r\n    return (new Deferred).resolve().promise()\r\n};\r\nexport var grep = function(elements, checkFunction, invert) {\r\n    var result = [];\r\n    var check;\r\n    var expectedCheck = !invert;\r\n    for (var i = 0; i < elements.length; i++) {\r\n        check = !!checkFunction(elements[i], i);\r\n        if (check === expectedCheck) {\r\n            result.push(elements[i])\r\n        }\r\n    }\r\n    return result\r\n};\r\nvar arraysEqualByValue = function(array1, array2, depth) {\r\n    if (array1.length !== array2.length) {\r\n        return false\r\n    }\r\n    for (var i = 0; i < array1.length; i++) {\r\n        if (!equalByValue(array1[i], array2[i], depth + 1)) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n};\r\nvar objectsEqualByValue = function(object1, object2, depth, strict) {\r\n    for (var propertyName in object1) {\r\n        if (Object.prototype.hasOwnProperty.call(object1, propertyName) && !equalByValue(object1[propertyName], object2[propertyName], depth + 1, strict)) {\r\n            return false\r\n        }\r\n    }\r\n    for (var _propertyName in object2) {\r\n        if (!(_propertyName in object1)) {\r\n            return false\r\n        }\r\n    }\r\n    return true\r\n};\r\nvar maxEqualityDepth = 3;\r\nexport var equalByValue = function(object1, object2) {\r\n    var depth = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;\r\n    var strict = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : true;\r\n    object1 = toComparable(object1, true);\r\n    object2 = toComparable(object2, true);\r\n    var comparisonResult = strict ? object1 === object2 : object1 == object2;\r\n    if (comparisonResult || depth >= maxEqualityDepth) {\r\n        return true\r\n    }\r\n    if (isObject(object1) && isObject(object2)) {\r\n        return objectsEqualByValue(object1, object2, depth, strict)\r\n    } else if (Array.isArray(object1) && Array.isArray(object2)) {\r\n        return arraysEqualByValue(object1, object2, depth)\r\n    }\r\n    return false\r\n};\r\n"]},"metadata":{},"sourceType":"module"}